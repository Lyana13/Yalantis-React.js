{"ast":null,"code":"var _jsxFileName = \"/home/lyana/ee/src/Users.js\";\nimport React, { Fragment } from \"react\";\nimport './App.css';\nconst monthes = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n    console.log(\"state\", this.state.users);\n  }\n\n  componentDidMount() {\n    fetch('https://yalantis-react-school-api.yalantis.com/api/task0/users').then(response => {\n      return response.json();\n    }).then(data => {\n      // let monthes = data.map(obj => {\n      // \tlet date =\tnew Date(obj.dob );\n      // \treturn date.getMonth() + 1;\n      // })\n      // console.log(\"monthes\", monthes);\n      // let data = data.dob;\n      // console.log(\"data\", data);\n      let mapUsers = new Map(); // console.log(\"null\", mapUsers);\n\n      data.forEach(user => {\n        let date = new Date(user.dob);\n        let month = date.getMonth();\n        console.log(\"2month\", month);\n        let usersGroup = mapUsers.get(month);\n\n        if (!usersGroup) {\n          mapUsers.set(month, [user]);\n        } else {\n          usersGroup.push(user);\n          mapUsers.set(month, usersGroup);\n        } //mapUsers.set(month, user);\n\n      });\n      let usersByMonth = Array.from(mapUsers).sort((a, b) => a[0] > b[0] ? 1 : -1);\n      console.log(usersByMonth);\n      usersByMonth = usersByMonth.map(e => {\n        e[0] = monthes[e[0]];\n        return e;\n      });\n      this.setState({\n        users: usersByMonth\n      }); // let m = this.state.users;\n      // console.log(Object.entries(m));\n      // let roots = m.getMonth();\n    });\n  }\n\n  getColor(usersCount) {\n    if (usersCount <= 2) return \"gray\";else if (usersCount <= 6) return \"blue\";else if (usersCount <= 10) return \"green\";else return \"red\";\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.users.map(e => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: this.getColor(e[1].length)\n      },\n      key: e[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, e[0]), e[1].map(user => /*#__PURE__*/React.createElement(\"p\", {\n      key: user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 22\n      }\n    }, user.firstName + \" \" + user.lastName)))));\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["/home/lyana/ee/src/Users.js"],"names":["React","Fragment","monthes","Users","Component","constructor","props","state","users","console","log","componentDidMount","fetch","then","response","json","data","mapUsers","Map","forEach","user","date","Date","dob","month","getMonth","usersGroup","get","set","push","usersByMonth","Array","from","sort","a","b","map","e","setState","getColor","usersCount","render","color","length","id","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport './App.css';\n\nconst monthes = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nclass Users extends React.Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = { \n\t\t\tusers: []\n\t\t};\n\n\t\tconsole.log(\"state\", this.state.users);\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('https://yalantis-react-school-api.yalantis.com/api/task0/users')\n\t  \t.then((response) => {\n\t   \t\treturn response.json();\n\t  \t})\n\t  \t.then((data) => {\n\t  \t\t// let monthes = data.map(obj => {\n\t  \t\t// \tlet date =\tnew Date(obj.dob );\n\t  \t\t// \treturn date.getMonth() + 1;\n\t  \t\t// })\n\t  \t\t// console.log(\"monthes\", monthes);\n\t\t\n\t  \t// let data = data.dob;\n\t  \t// console.log(\"data\", data);\n\t  \tlet mapUsers = new Map();\n\t  \t// console.log(\"null\", mapUsers);\n\t  \tdata.forEach( user => {\n\t  \t\tlet date = new Date( user.dob );\n\t  \t\tlet month = date.getMonth();\n\n\t  \t\tconsole.log(\"2month\", month);\n\t  \t\tlet usersGroup = mapUsers.get(month);\n\t  \t\tif (!usersGroup){\n\t  \t\t\tmapUsers.set(month, [user]);\n\t  \t\t}\n\t  \t\telse {\n\t  \t\t\tusersGroup.push(user);\n\t  \t\t\tmapUsers.set(month, usersGroup);\n\t  \t\t}\n\t  \t\t//mapUsers.set(month, user);\n\t\t})\n\n\n\t  \tlet usersByMonth = Array.from(mapUsers).sort((a, b) => a[0] > b[0] ? 1 : -1);\n\t  \tconsole.log(usersByMonth);\n\t  \tusersByMonth = usersByMonth.map(e => {\n\t  \t\te[0] = monthes[e[0]];\n\t  \t\treturn e;\n\t  \t})\n\n\t  \tthis.setState({ users: usersByMonth});\n\t  \t\n\n\t  \t// let m = this.state.users;\n\t  \t// console.log(Object.entries(m));\n\t  \t\n\t  \t// let roots = m.getMonth();\n\t \t\n\t  \t});\n\t}\n\n\tgetColor(usersCount) {\n\t\tif(usersCount <= 2)\n\t\t\treturn \"gray\";\n\t\telse if(usersCount <= 6)\n\t\t\treturn \"blue\";\n\t\telse if(usersCount <= 10)\n\t\t\treturn \"green\";\n\t\telse\n\t\t\treturn \"red\";\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n                { this.state.users.map(e => (\n                \t<>\n                    <p style={{ color: this.getColor(e[1].length) }} key={ e[0] }>{ e[0] }</p>\n                    \n                    { e[1].map(user => (\n                    \t<p key={ user.id} >{user.firstName + \" \" + user.lastName}</p>\n                    ))}\n\n                    </>\n                ))}\n\n            </>\n\t\t);\n\t}\n}\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}